# Instant Translate #

* Авторы: Alexy Sadovoy, Beqa Gozalishvili, Mesar Hameed, Alberto Buffolino и другие участники сообщества NVDA.
* Загрузить [стабильную версию][1]
* Загрузить [разрабатываемую версию][2]

Это дополнение используется для перевода выделенного текста и/или текста из буфера обмена с одного языка на другой.
Это делается с помощью службы Google Translate.

## Настройка языков ##
Чтобы настроить исходный, целевой и иногда  язык для перемены местами, перейдите: NVDA Меню >> Параметры >> Настройки Instant Translate.

Здесь два комбинированных списка, помеченые "исходный язык" и "Целевой язык", и флажок для копирования перевода в буфер, если это необходимо.

Кроме того, если вы выбрали автоматическое определение языка (первый выбор) в комбинированном списке "исходный язык", есть также комбинированный список с названием "Язык для смены местами" и флажок автоматической перемены.

Значение двух первых комбинированных списков и флажка для копирования понятно, но необходимо сказать несколько слов об остальном. Всегда помните, что в приведённых ниже пояснениях предполагается, что параметр исходного языка установлен "Автоматически определять язык".

Комбинированный список "Язык для замены" полезен, когда вы меняете исходный и целевой языки с помощью скрипта (см. ниже); на самом деле, целевой язык, заданный как автоматически, не имеет смысла, поэтому дополнение устанавливает для него значение в поле со списком, указанном выше.

Итак, представьте себе такую ситуацию: обычно вы переводите на английский (ваш основной язык), но иногда (например, когда вы пишете документ) вам нужно перевести на итальянский (предположим, ваш второй язык); вы можете установить в комбинированном списке "Язык для замены" значение итальянский, таким образом, вы будете переводить с английского на итальянский без прямого доступа к настройкам дополнения. Очевидно, что эта функция может быть как основной, так и второстепенной, в зависимости от ваших наиболее частых потребностей.

Теперь установите флажок автоматической замены: он появляется тогда и только тогда, когда вы устанавливаете параметр "автоматически" в выпадающем списке "Исходный язык" и напрямую связан с выпадающим списком "Язык для замены". Если вы активируете его, то дополнение попытается автоматически переключиться с вашей исходной и целевой конфигурации на конфигурацию, в которой целевой язык становится исходным, а язык, выбранный в комбинированном списке "Язык для замены", является новым целевым языком; чрезвычайно полезно, если исходный язык текста, который вы хотите перевести, является языком перевода.

Простой пример: еще раз вспомните ситуацию, представленную ранее; если вы переводите текст на язык, отличный от английского, проблем не возникает, вы получаете правильный перевод на английский. Но если вам нужно перевести текст с английского, обычно вы получаете перевод на английский, идентичный оригинальному тексту, и это немного бесполезно. Однако благодаря функции автоматической замены, предполагая, что вы хотите знать, как звучит ваш текст на итальянском, дополнение автоматически переключает язык перевода на итальянский, поэтому возвращает правильный перевод.

В любом случае, это временная конфигурация; если эта опция не работает (она экспериментальная), попробуйте вручную переключиться на стабильную конфигурацию, используя жест для переключения, описанный ниже. Это экспериментальный подход, потому что в некоторых ситуациях (как правило, при работе с короткими текстами) Google неправильно распознаёт реальный исходный язык, и вам приходится менять языки вручную с помощью скрипта, чтобы заставить исходный язык быть предыдущим целевым языком (в нашем примере - английским).

По крайней мере, в диалоге параметров настройки речи (меню NVDA >> Параметры >> Речь) вы можете захотеть установить флажок "Автоматическое переключение языка (если поддерживается)". Таким образом, если вы используете многоязычный синтезатор, перевод будет озвучен голосом синтезатора на целевом языке.

## Использование ##
Вы можете использовать это дополнение тремя способами:

1. Выделите текст с помощью команд выделения (например, shift с помощью клавиш со стрелками) и нажмите соответствующую клавишу для перевода. результат перевода будет прочитан с помощью синтезатора, который вы используете.
2. Вы также можете перевести текст из буфера обмена.
3. Нажмите специальную комбинацию клавиш, чтобы перевести последний произнесенный текст.

## Горячие клавиши ##
Все следующие команды клавиш нужно нажимать после клавишного модификатора "NVDA+Shift+t":

* T: Перевести выделенный текст,
* Shift+t: перевести текст из буфера обмена,
* S: поменять местами исходный и целевой языки,
* A: объявить текущую конфигурацию,
* C: скопировать последний результат в буфер обмена,
* I: определить язык выделенного текста,
* L: перевести последний произнесённый текст,
* O: открыть диалог настроек перевода
* H: объявляет все доступные многоуровневые команды.

## Изменения в версии 4.7 ##
* Обновлено для совместимости с Python3.11 и NVDA 2024.1
* Реализован режим speakOnDemand
* Исправлен  случай с невозможностью кэширующих переводов
* Добавлено китайское зеркало для перевода


## Изменения в версии 4.4.2 ##
* Восстановление функции определения языка и автоматической замены (спасибо Cyrille за исправление)
* обновлены языки для перевода (спасибо Cyrille)

## Изменения в версии 4.4 ##
* Instant translate теперь совместим с NVDA 2019.3 (NVDA на Python 3)

## Изменения в версии 4.3 ##
* исправлена ошибка совместимости, теперь instant translate будет совместим с последними сборками nvda.
* снова найден способ использовать Google в качестве сервиса переводов.

## Изменения в версии 4.2 ##
* Восстановлено рабочее состояние с помощью более новых версий nvda.
* Восстановлено автоматическое определение языка.

## Изменения в версии 4.1 ##
* InstantTranslate снова работает со службой переводчика Яндекс вместо Google.

## Изменения в версии 4.0 ##
* Результат перевода теперь автоматически выполняется при смене языков местами.
* Исправлена ошибка кэша.

## Изменения в версии 3.0 ##
* Изменён способ использования команд, теперь вам нужно нажать клавишу-модификатор instantTranslate "NVDA+Shift+t", а затем клавишу одной буквы, чтобы выполнить некоторые действия (смотрите все комбинации клавиш в разделе "Команды").
* Реализована перемена языков местами.
* Изменен формат конфигурации, теперь можно изменить настройки instant translate, находясь в области только для чтения, но помните, что это будет работать до первого перезапуска NVDA.
* Убраны ограничение объёма переводимого текста.
* Добавлена клавиша быстрого доступа t к  пункту меню настроек Instant Translate
* Опция автоопределения языка теперь находится только в списке выбора исходного языка, убрана из списка целевого.
* Добавлен флажок для настройки результата копирования перевода.
* Файл конфигурации хранится в корневой папке пользовательских настроек.
* Исходный и целевой языки синхронизированы с тем, что предоставляет Google Translate на текущий момент (22 Apr 2015).

## Изменения в версии 2.1 ##
* Теперь дополнение переводит текст из буфера обмена при нажатии NVDA+Shift+Y.

## Изменения в версии 2.0 ##
* Добавлен диалог для выбора исходного и целевого языков.
* Добавлен пункт меню дополнения, находящийся в меню параметров.
* Настройки теперь сохраняются в отдельный конфигурационный файл.
* Результат перевода теперь автоматически копируется в буфер обмена для последующих манипуляций.

## Изменения в версии 1.0 ##
* Начальная версия.

[1]: https://addons.nvda-project.org/legacy?file=instantTranslate

[2]: http://addons.nvda-project.org/files/get.php?file=it-dev
